<% provide( :page_header, @group.name ) %>

<div class="form-group col-xs-12">
  <label class="col-xs-2 control-label">Name</label>
  <span class="form-control-static"><%= @group.name %></span>
</div>

<div class="form-group col-xs-12">
  <label class="col-xs-2 control-label">Description</label>
  <span class="form-control-static"><%= @group.description %></span>
</div>

<div class="form-group col-xs-12">
  <label class="col-xs-2 control-label">Permissions</label>
  <span class="form-control-static">
    <table class="table table-nonfluid table-striped table-bordered table-hover">
      <tbody>
        <!-- <th>Controller</th>
        <th>Action</th>
        <th>ID Field</th> -->
        <% @group.permissions.order(controller: :asc, action: :asc).each do |permission| %>
          <tr>
            <td><%= permission.controller.humanize.titleize %></td>
            <td><%= permission.action.humanize.titleize %></td>
            <td>
              <% if permission.id_field %>
                <%= permission.id_field.humanize.titleize %>
              <% else %>
                Full Access
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </span>
</div>

<div class="form-group col-xs-12">
  <label class="col-xs-2 control-label">Users</label>
  <span class="form-control-static">

    <table class="table table-nonfluid table-striped table-bordered table-hover">
      <tbody>
        <% @group.users.order(last_name: :asc, first_name: :asc).each do |user| %>
          <tr>
            <td><%= user.full_name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

  </span>
</div>

<div class="form-group col-xs-12">
  <div class="col-xs-offset-2">
    <%= link_to 'Edit', edit_group_path(@group), class: "btn btn-primary" %>
    <%= link_to 'Back', groups_path, class: "btn btn-default" %>
  </div>
</div>